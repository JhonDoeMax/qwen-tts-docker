# Qwen-TTS Streaming Service

# Параметры для Qwen3-TTS сервера

На основе анализа кода, вот полный список параметров, которые можно передать при запросе к серверу:

## Обязательные параметры
1. **`text`** (string) - Текст для синтеза речи (обязательный для всех режимов)

## Основные параметры
2. **`task_type`** (string) - Тип задачи: "CustomVoice", "VoiceDesign" или "Base" (по умолчанию берется из переменной окружения)
3. **`stream`** (boolean) - Включить стриминговый режим (по умолчанию false)
4. **`language`** (string) - Язык текста (по умолчанию "Auto")
5. **`output_format`** (string) - Формат выходного аудио: "wav", "flac", "ogg", "opus", "mp3" (по умолчанию "opus")

## Параметры генерации
6. **`do_sample`** (boolean) - Использовать сэмплирование (по умолчанию true)
7. **`top_k`** (integer) - Количество токенов для top-k фильтрации (по умолчанию 50)
8. **`top_p`** (float) - Порог для nucleus sampling (по умолчанию 1.0)
9. **`temperature`** (float) - Температура для сэмплирования (по умолчанию 0.9)
10. **`repetition_penalty`** (float) - Штраф за повторения (по умолчанию 1.05)
11. **`max_new_tokens`** (integer) - Максимальное количество новых токенов (по умолчанию 2048)
12. **`seed`** (integer) - Seed для воспроизводимости результатов

## Специфичные для режимов параметры

### Для CustomVoice
13. **`speaker`** (string) - Имя спикера (по умолчанию "Vivian")
14. **`instruct`** (string) - Инструкция для настройки голоса (необязательная)

### Для VoiceDesign
15. **`instruct`** (string) - Обязательная инструкция для настройки голоса

### Для Base (Voice Clone)
16. **`ref_audio`** (string/base64) - Референсный аудиофайл для клонирования голоса (обязательный)
17. **`ref_text`** (string) - Текст, соответствующий референсному аудио (по умолчанию пустая строка)
18. **`x_vector_only_mode`** (boolean) - Использовать только x-vector для клонирования (по умолчанию false)

## Параметры стриминга
19. **`stream_chunk_tokens`** (integer) - Количество токенов в чанке для стриминга (по умолчанию 24)
20. **`stream_left_context_tokens`** (integer) - Количество токенов левого контекста для стриминга (по умолчанию 25)

## Внутренние параметры модели (subtalker)
21. **`subtalker_dosample`** (boolean) - Использовать сэмплирование для subtalker (по умолчанию true)
22. **`subtalker_top_k`** (integer) - Top-k для subtalker (по умолчанию 50)
23. **`subtalker_top_p`** (float) - Top-p для subtalker (по умолчанию 1.0)
24. **`subtalker_temperature`** (float) - Температура для subtalker (по умолчанию 0.9)

## Дополнительные функции
25. **`timestamps`** (boolean) - Запросить временные метки слов в ответе (по умолчанию false)

Примечание: Для работы в режиме Base обязательно требуется параметр `ref_audio`, а для VoiceDesign - обязательный параметр `instruct`. В стриминговом режиме ответ приходит в формате newline-delimited JSON с чанками аудио в base64.